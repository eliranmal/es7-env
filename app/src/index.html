<!--
  **NOTE:** This is a template for index.html.
  It uses ejs and htmlWebpackPlugin to generate a different index.html for each environment.
  htmlWebpackPlugin will dynamically add references to the scripts and styles that it bundles
  to this file. The generated bundles have hash-based filenames,
  so it's necessary to add the references dynamically.
  For more info on ejs, see http://www.embeddedjs.com/.
  For examples of using it with htmlWebpackPlugin,
  see https://github.com/jaketrent/html-webpack-template/blob/master/index.ejs
  -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.1/axios.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.3.3/vue.min.js"></script>
  <script type="text/javascript" src="https://rawgit.com/fergaldoyle/vue-form/master/dist/vue-form.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
</head>
<body>
  <div id="app" class="container py-5">
    <vue-form :state="formstate" v-model="formstate" @submit.prevent="onSubmit">
      <field class="form-group">
        <label>Type:</label>
        <input type="radio" id="file-type" name="type" value="file" v-model.lazy="model.type"> File
        <input type="radio" id="code-type" name="type" value="code" v-model.lazy="model.type"> Code<br>
      </field>
      <validate auto-label class="form-group" :class="fieldClassName(formstate.file)" :disabled="model.type === 'code' ? true : false">
        <label>File:</label>
        <select v-if="model.files && model.files.length" class="form-control" name="file" v-model.lazy="model.file" :disabled="model.type === 'code' ? true : false">
          <option :value="null">Choose...</option>
          <option v-for="file of model.files" v-bind:value="file">{{file}}</option>
        </select>
        <field-messages name="file" show="$submitted" class="form-control-feedback">
          <div>Success!</div>
        </field-messages>
      </validate>
      <validate auto-label class="form-group" :class="fieldClassName(formstate.code)" :disabled="model.type === 'file' ? true : false">
        <label>Code:</label>
        <textarea name="code" class="form-control" rows="20" maxlength="10000" v-model.lazy="model.code" :disabled="model.type === 'file' ? true : false" validcode></textarea>
        <small class="form-text text-muted">Enter no more than 10000 characters.</small>
        <field-messages name="code" show="$submitted" class="form-control-feedback">
          <div>Success!</div>
          <div slot="maxlength">Comments must be less than 10000 characters</div>
          <div slot="validcode">Invalid Code! Reverted!</div>
        </field-messages>
      </validate>
      <div class="py-2 text-center">
        <button class="btn btn-primary" type="submit">Run</button>
      </div>
    </vue-form>
  </div>
</body>
</html>
