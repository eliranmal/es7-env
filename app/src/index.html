<!--
  **NOTE:** This is a template for index.html.
  It uses ejs and htmlWebpackPlugin to generate a different index.html for each environment.
  htmlWebpackPlugin will dynamically add references to the scripts and styles that it bundles
  to this file. The generated bundles have hash-based filenames,
  so it's necessary to add the references dynamically.
  For more info on ejs, see http://www.embeddedjs.com/.
  For examples of using it with htmlWebpackPlugin,
  see https://github.com/jaketrent/html-webpack-template/blob/master/index.ejs
  -->
<!DOCTYPE html>
<html lang="en" xmlns:v-bind="http://www.w3.org/1999/xhtml">
<head>
  <meta charset="UTF-8">
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.16.1/axios.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.3.3/vue.min.js"></script>
  <script type="text/javascript" src="https://rawgit.com/fergaldoyle/vue-form/master/dist/vue-form.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css">
</head>
<body>
  <div id="app">
    <vue-form :state="formstate" v-model="formstate" @submit.prevent="onSubmit">
      <div class="container-fluid p-5">
        <div class="row">
          <div class="col-md-5 block">
            <validate auto-label class="form-group centered" :class="fieldClassName(formstate.code)">
              <label>Code:</label>
              <textarea id="code" name="code" class="form-control" maxlength="10000" v-model.lazy="model.code" validcode></textarea>
              <small class="form-text text-muted">Enter no more than 10000 characters.</small>
              <field-messages name="code" show="$submitted" class="form-control-feedback">
                <div>Success!</div>
                <div slot="maxlength">Comments must be less than 10000 characters</div>
                <div slot="validcode">Invalid Code! Reverted!</div>
              </field-messages>
            </validate>
          </div>
          <div class="col-md-2 block">
            <div class="centered">
              <validate auto-label class="form-group" :class="fieldClassName(formstate.file)">
                <label>Snippets:</label>
                <select v-if="model.files && model.files.length" class="custom-select form-control form-control-lg" name="file" v-model.lazy="model.file" @change="onFileChange">
                  <option :value="null">Choose...</option>
                  <option v-for="file of model.files" v-bind:value="file">{{file}}</option>
                </select>
                <field-messages name="file" show="$submitted" class="form-control-feedback">
                  <div>Success!</div>
                </field-messages>
              </validate>
              <button class="btn btn-lg btn-outline-primary btn-block" type="submit">Run</button>
            </div>
          </div>
          <div class="col-md-5 block">
            <div class="form-group centered">
              <label>Output:</label>
              <pre><code id="console-log" class="form-control text-left"></code></pre>
            </div>
          </div>
        </div>
      </div>
    </vue-form>
  </div>
</body>
</html>
